<!--カレンダー週-->
{% extends "base.html" %}

{% load static%}

{% block title %}週間カレンダー{% endblock %}

{% block header %}
<header>
    <div class="header__text">
        <p>週間カレンダー</p>
    </div>
</header>
{% endblock %}

{% block content %}
<!-- タブ -->
<div class="tab__button">
    <div class="tab__button--left">
        <button type="button" onclick="location.href='{% url 'calender_week.htmlに遷移させてください' %}'">
            週間カレンダー</button>
    </div>
    <div class="tab__button--right">
        <button type="button" onclick="location.href='{% url 'week_graph.htmlに遷移させてください' %}'">
            週間グラフ</button>
    </div>
</div>

<!-- 週間のページネーション -->
<div class="col-md-6">
    <div class="text-right">
        <button id="prev-week"><img src="{% static 'assets/left_arrow.png' %}"></button>
        <div calss="text-center">
            <span id="year-month"></span>
        </div>
        <button id="next-week"><img src="{% static 'assets/right_arrow.png' %}"></button>
        <div class="return__button">
            <button id="now-week"><img src="{% static 'assets/return_arrow.png' %}">今週</button>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <ul class="week-list--group">
            {% for 1週間の日記一覧を表示させてください %}
                <li class="week-list--group-item">
                    <div class="d-flex justify-content-between">
                        <span class="text-primary">{{ 00/00の書式で日付を表示させてください }}</span><br>
                        <span class="text-primary">{{ 月 ←の書式で表示させてください }}</span>
                    </div>
                    <i class="diary-icon {{ 感情のアイコンを表示させてください positive_face.png,neutral~,mix~,negative~.png }}"></i>
                    <p>{{ 日記の詳細を「先頭７文字＋・・・」の書式で表示させてください }}</p>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
$(function() {
    // 現在の年月を取得する
    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth() + 1;

    // 年月を表示する
    $('#year-month').text(year + '\n' + month + '月');

    // 前週ボタンをクリックした時の処理
    $('#prev-week').click(function() {
    // 現在の週を取得する
        const week = now.getWeek();
    // 1週前を取得する
        const prevWeek = week - 1;
    // 年月を更新する
        year = now.getFullYear() - 1;
        month = now.getMonth() + 1;
        if (prevWeek < 0) {
        year--;
        month--;
        prevWeek = 52;
        }
        $('#year-month').text(year + '\n' + month + '月');
    });

    // 来週ボタンをクリックした時の処理
    $('#next-week').click(function() {
    // 現在の週を取得する
        const week = now.getWeek();
    // 1週間後を取得する
        const nextWeek = week + 1;
    // 年月を更新する
        year = now.getFullYear() + 1;
        month = now.getMonth() + 1;
        if (nextWeek > 52) {
        year++;
        month = 1;
        nextWeek = 1;
        }
        $('#year-month').text(year + '\n' + month + '月');
    });

    // 今週ボタンをクリックした時の処理
    $('#now-week').click(function() {
    // 現在の週を取得する
        const week = now.getWeek();
    // 年月を更新する
        year = now.getFullYear();
        month = now.getMonth() + 1;
        $('#year-month').text(year + '\n' + month + '月');
    });
});
</script>
{% endblock %}
