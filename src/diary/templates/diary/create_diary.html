<!-- 日記作成画面１ -->
{% extends "base_diary.html" %}

{% load static %}

{% block title %}日記作成{% endblock %}

{% block header %}
<header>
    <div class="header__button">
        <div class="header__back__img">
            <button type="button" onclick="history.back()"><img src="{% static 'diary/assets/back_arrow.png' %}">戻る</button>
        </div>
    </div>
    <div class="header__nowdate">
        <!-- 日付の表示 書式は0000/00/00(月) -->
        {% comment %} {% if カレンダーから遷移した場合 %}
            {{ 選択された日付を表示する }}
        {% else %} {% endcomment %}
        <div id="current_date">
            <script>
                var today = new Date();
            
                // 年・月・日・曜日を取得
                var year = today.getFullYear();
                var month = today.getMonth() + 1;
                var week = today.getDay();
                var day = today.getDate();
            
                var week_ja = ["日", "月", "火", "水", "木", "金", "土"];
            
                // 年・月・日・曜日を書き出す
                document.write(year + "年" + month + "月" + day + "日 " + week_ja[week] + "曜日");
            </script>
            
        </div>
        {% comment %} {% endif %} {% endcomment %}
    </div>

    {% comment %} 
    <!-- 天気アイコン・気温の表示  -->
    <div class="header__weather">
        {% if カレンダーから遷移した場合 %}
            <div class="header__weather__img">
                <img src="{% static 'diary/assets/{{ 天気のアイコンを表示させてください  weather_icon (晴れ sunny.png 曇り cloud.png 雨 rain.png 雪 snow.png)}}' %}"alt="天気の画像" >
            </div>
            {{ 選択された日の気温を表示おねがいします 00℃ }}
        {% else %}
            <div class="header__weather__img">
                <img src="{% static 'diary/assets/{{ 天気のアイコンを表示させてください  weather_icon (晴れ sunny.png 曇り cloud.png 雨 rain.png 雪 snow.png)}}' %}"alt="天気の画像" >
            </div>
            {{ 現在の気温を表示 }}
        {% endif %} {% endcomment %}
    </div>
</header>
{% endblock %}

{% block content %}
<form method="POST" action="{% url 'diary:create_diary_confirmation' %}"><!--次のページに遷移させてください-->
    {% csrf_token %}
    <div class="content__today-diary__text">
        <img src="{% static 'diary/assets/input_text_neko.png' %}" alt="透過画像" class="follow-image">
        <input type="textarea" placeholder="テキストを入力してください (最大1000字まで)" oninput="updateImagePosition(this)">
        <div id="char-count">文字数: 0</div>
    <!--Javascriptでテキストボックス内にネココを透過させた画像を追従させます-->
    <!--Javascriptで文字数をカウントします-->
    </div>
    <div class="icon__button">
        <label for="image"><img src="{% static 'diary/assets/img_icon.png' %}">写真・動画を添付</label>
        <input type="file" id="media" name="media" accept="image/*,video/*">
    </div>
    <div class="cancel__button">
        <button type="button">確認</button>
    </div>
</form>
{% endblock %}